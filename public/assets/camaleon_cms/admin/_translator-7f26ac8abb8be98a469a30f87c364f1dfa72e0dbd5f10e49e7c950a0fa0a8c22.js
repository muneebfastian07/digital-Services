jQuery(function(t){var a=1;t.fn.Translatable=function(e,n){e=e||ADMIN_TRANSLATIONS,n=n||e[0];var i=t(this).not(".translated-item, .translate-item");return get_translations=function(t,a){var n={},i="";if(t&&0==t.trim().search("<!--")){var r=t.split("<!--:-->");for(var s in r){var l=r[s],o=l.trim().match(/^<!--:([\w||-]{2,5})/);o&&2==o.length&&(o[1]=o[1].replace("--",""),n[o[1]]=l.replace("<!--:"+o[1]+"-->",""))}i=n}else{for(var s in e)n[e[s]]=t;i=n}return a?get_translation(i,a):i},get_translation=function(t,a){return a in t?t[a]:e[0]in t?t[e[0]]:""},e.length<2?(i.each(function(){t(this).val(get_translations(t(this).val(),e[0]))}),this):(i.each(function(){var n=t(this),i=[],r=[],s=get_translations(n.is("select")?n.data("value"):n.val()),l={},o=n.parent().hasClass("form-group")?"":"form-group";for(var c in e){var v=e[c],d="translation-"+v+"-"+a;i.push('<li role="presentation" class="pull-right '+(0==c?"active":"")+'"><a href="#pane-'+d+'" role="tab" data-toggle="tab">'+v.titleize()+"</a></li>");var p=n.clone(!0).attr({id:d,name:d,"data-name":d,"data-translation_l":v,"data-translation":"translation-"+v}).addClass("translate-item").val(get_translation(s,v));c>0&&!p.hasClass("required_all_langs")&&p.removeClass("required"),l[v]=p,p.wrap("<div class='tab-pane "+o+" trans_tab_item "+(0==c?"active":"")+"' id='pane-"+d+"'/>"),r.push(p.parent()),a++,p.bind("change change_in",function(){var t=[];for(var a in l)t.push("<!--:"+a+"-->"+l[a].val()+"<!--:-->");n.val(t.join("")),"object"==typeof tinymce&&n.is("textarea")&&n.attr("id")&&tinymce.get(n.attr("id"))&&tinymce.get(n.attr("id")).setContent(t.join(""))})}var h=t('<div class="trans_panel" role="tabpanel"><ul class="nav nav-tabs" role="tablist"></ul><div class="tab-content"></div></div>');if(h.find(".nav-tabs").append(i.reverse()),h.find(".tab-content").append(r),n.is("select")){var u=t('<input type="hidden">').attr({"class":n.attr("class"),name:n.attr("name")});n.replaceWith(u),n=u,r[0].find(".translate-item").trigger("change")}n.addClass("translated-item").hide().after(h),n.data("translation_inputs",l),n.bind("trans_integrate",function(){var a=[];for(var e in l)a.push("<!--:"+e+"-->"+l[e].val()+"<!--:-->");n.show().val(a.join("")),"object"==typeof tinymce&&n.is("textarea")&&n.attr("id")&&tinymce.get(n.attr("id"))&&tinymce.get(n.attr("id")).setContent(a.join("")),h.remove(),t(this).removeClass("translated-item")})}),this)}});