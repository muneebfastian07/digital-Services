(function(){$(function(){var t,a;return a=$("#contact_form_editor"),t=a.find("#my_fields"),t.sortable({handle:".panel-sortable"}),a.find("#fields_available a").click(function(){return showLoading(),t.attr("data-cid",parseInt(t.attr("data-cid"))+1),$.get(a.find("#fields_available").attr("data-remote_url"),{kind:$(this).attr("data-field-type"),cid:"c"+t.attr("data-cid")},function(a){return a=$(a),t.append(a),a.find(".options_sortable").sortable({handle:".options-sortable"}),a.find(".add_option").click().click(),a.find(".translatable").Translatable(ADMIN_TRANSLATIONS),hideLoading()}),!1}),a.on("click",".add_option",function(){var t,a;return a=$(this).prev("ul"),a.attr("data-options-count",parseInt(a.attr("data-options-count"))+1),t=a.children().first().clone().removeClass("hidden"),t.find("input").prop("disabled",!1).each(function(){return $(this).attr("name",$(this).attr("name").replace("[0]","["+a.attr("data-options-count")+"]"))}),a.append(t),t.find(".translatable").Translatable(ADMIN_TRANSLATIONS),!1}),a.on("click",".option-delete",function(){return $(this).closest("li").remove(),!1}),a.on("click",".panel-delete",function(){return $(this).closest("li.panel").fadeOut("slow",function(){return $(this).remove()}),!1}),a.on("click",".html_btn",function(){return $(this).hide().next().hide().removeClass("hidden").fadeIn(),!1}),t.find(".options_sortable").sortable({handle:".options-sortable"}),a.find(".translatable").Translatable(ADMIN_TRANSLATIONS)})}).call(this);